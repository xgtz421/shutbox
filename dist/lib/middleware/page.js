module.exports=function(e,l){return l=l||10,function(a,r,t){var n=Math.max(parseInt(a.params.page||"1",10),1)-1;console.log("**********req.params:",a.params),Number.isInteger(n)&&e(function(e,o){return e?t(e):(console.log("************total:",o),a.page=r.locals.page={number:n,prepage:l,from:n*l,to:n*l+l-1,total:o,count:Math.ceil(o/l)},console.log("********** req.page:",a.page),void t())})}};